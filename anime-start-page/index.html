<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Momotan Start Page</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@300;400;500;700&display=swap"
        rel="stylesheet">
    <!-- Phosphor Icons for cleaner look (using CDN for simplicity/compatibility) -->
    <script src="https://unpkg.com/@phosphor-icons/web"></script>
</head>

<body>
    <!-- Top Right Controls -->
    <div class="top-controls">
        <button class="icon-btn" id="moreBtn" title="更多">
            <i class="ph ph-dots-three-circle"></i>
        </button>
        <button class="icon-btn" id="notesBtn" title="便签">
            <i class="ph ph-notepad"></i>
        </button>
        <button class="icon-btn" id="themeBtn" title="切换主题">
            <i class="ph ph-moon"></i>
        </button>
    </div>

    <!-- Main Container -->
    <main class="main-container">
        <h1 class="brand-title">TwilightKaze</h1>

        <div class="search-wrapper">
            <div class="search-engine-icon" id="currentEngineIcon">
                <i class="ph ph-magnifying-glass"></i>
            </div>
            <input type="text" id="searchInput" placeholder="搜索..." autocomplete="off">
            <button id="searchSubmit" class="search-submit">
                <i class="ph ph-magnifying-glass"></i>
            </button>
        </div>

        <!-- Main Page Shortcuts Container -->
        <div class="main-shortcuts-container" id="mainShortcuts"></div>
    </main>

    <!-- Footer -->
    <footer class="footer">
        ©2026 TwilightKaze
    </footer>

    <!-- More Settings Modal -->
    <div class="modal-overlay" id="moreModal">
        <div class="modal-content settings-panel">
            <div class="modal-header">
                <button class="back-btn" id="closeMoreModal">
                    <i class="ph ph-arrow-left"></i> 更多
                </button>
            </div>

            <div class="settings-scroll-container">
                <!-- Shortcuts Section -->
                <div class="panel-section">
                    <h3 class="section-label">捷径</h3>
                    <div class="shortcuts-grid" id="shortcutsGrid">
                        <!-- Dynamic Content -->
                    </div>
                </div>

                <!-- Appearance Section (New) -->
                <div class="panel-section">
                    <h3 class="section-label">外观</h3>

                    <div class="setting-row wallpaper-row">
                        <div class="setting-info">
                            <div class="setting-title">自定义壁纸</div>
                            <div class="setting-desc">上传 jpg、png、gif，不大于 3MB<br>或使用必应壁纸、随机动漫/风景图</div>
                            <div class="wallpaper-actions">
                                <label class="action-chip primary">
                                    <i class="ph ph-upload-simple"></i> 上传
                                    <input type="file" id="bgUpload" accept="image/*" hidden>
                                </label>
                                <button class="action-chip" id="bgBing">
                                    <i class="ph ph-bing-logo"></i> 必应
                                </button>
                                <button class="action-chip" id="bgAnime">
                                    <i class="ph ph-magic-wand"></i> 随机动漫
                                </button>
                                <button class="action-chip" id="bgLandscape">
                                    <i class="ph ph-image"></i> 风景
                                </button>
                                <button class="action-chip" id="bgResetLight">
                                    <i class="ph ph-sun"></i> 默认亮
                                </button>
                                <button class="action-chip" id="bgResetDark">
                                    <i class="ph ph-moon"></i> 默认暗
                                </button>
                            </div>
                        </div>
                        <div class="wallpaper-preview" id="wallpaperPreview">
                            <span>图片预览</span>
                        </div>
                    </div>

                    <div class="setting-row">
                        <div class="setting-info">
                            <div class="setting-title">主题色</div>
                            <div class="setting-desc">自定义网站主题颜色</div>
                        </div>
                        <div class="color-picker-wrapper">
                            <input type="color" id="themeColorPicker">
                            <button class="action-chip" id="resetThemeColor">自定义</button>
                        </div>
                    </div>

                    <div class="setting-row">
                        <div class="setting-info">
                            <div class="setting-title">深色模式</div>
                            <div class="setting-desc">为网站应用深色配色</div>
                        </div>
                        <label class="toggle-switch">
                            <input type="checkbox" id="darkModeToggle">
                            <span class="slider"></span>
                        </label>
                    </div>

                    <div class="setting-row">
                        <div class="setting-info">
                            <div class="setting-title">隐藏 Logo</div>
                            <div class="setting-desc">还不会影响快捷操作</div>
                        </div>
                        <label class="toggle-switch">
                            <input type="checkbox" id="hideLogoToggle">
                            <span class="slider"></span>
                        </label>
                    </div>

                    <div class="setting-row">
                        <div class="setting-info">
                            <div class="setting-title">隐藏底部信息</div>
                            <div class="setting-desc">保持页面简洁纯净</div>
                        </div>
                        <label class="toggle-switch">
                            <input type="checkbox" id="hideFooterToggle">
                            <span class="slider"></span>
                        </label>
                    </div>

                    <div class="setting-row">
                        <div class="setting-info">
                            <div class="setting-title">深色模式背景遮罩</div>
                            <div class="setting-desc">让深色模式下的背景图更柔和</div>
                        </div>
                        <label class="toggle-switch">
                            <input type="checkbox" id="darkMaskToggle">
                            <span class="slider"></span>
                        </label>
                    </div>
                </div>

                <!-- General Settings -->
                <div class="panel-section">
                    <h3 class="section-label">常规设置</h3>

                    <div class="setting-row">
                        <div class="setting-info">
                            <div class="setting-title">语言</div>
                            <div class="setting-desc">Language</div>
                        </div>
                        <button class="setting-action-btn">简体中文</button>
                    </div>

                    <div class="setting-row">
                        <div class="setting-info">
                            <div class="setting-title">搜索引擎首选项</div>
                            <div class="setting-desc">设置主页搜索栏左侧图标的跳转</div>
                        </div>
                        <button class="setting-action-btn secondary" id="engineSelectBtn">
                            <i class="ph ph-bing-logo"></i> 必应
                        </button>
                    </div>

                    <div class="setting-row">
                        <div class="setting-info">
                            <div class="setting-title">在搜索栏下方显示捷径</div>
                            <div class="setting-desc">若隐藏需在更多中访问</div>
                        </div>
                        <label class="toggle-switch">
                            <input type="checkbox" id="showShortcutsToggle">
                            <span class="slider"></span>
                        </label>
                    </div>
                </div>

                <!-- Data Section -->
                <div class="panel-section">
                    <h3 class="section-label">数据管理</h3>
                    <div class="setting-row">
                        <div class="setting-info">
                            <div class="setting-title">LocalStorage 用量</div>
                            <div class="setting-desc" id="storageUsage">已使用 0 KB</div>
                        </div>
                        <div class="setting-value" id="storageTotal">共 5.00 MB</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Add Shortcut Modal -->
    <div class="modal-overlay" id="addShortcutModal" style="z-index: 1100;">
        <div class="modal-content glass-card" style="max-width: 400px; height: auto; padding: 20px;">
            <h3>添加捷径</h3>
            <div class="form-group" style="margin-top: 20px;">
                <input type="text" id="newShortcutName" placeholder="名称 (例如: Bilibili)" class="modal-input">
            </div>
            <div class="form-group" style="margin-top: 10px;">
                <input type="text" id="newShortcutUrl" placeholder="网址 (例如: bilibili.com)" class="modal-input">
            </div>
            <div class="form-actions" style="margin-top: 20px; display: flex; justify-content: flex-end; gap: 10px;">
                <button class="setting-action-btn secondary" id="cancelShortcutBtn">取消</button>
                <button class="setting-action-btn" id="confirmShortcutBtn">添加</button>
            </div>
        </div>
    </div>

    <!-- Notes Modal -->
    <div class="modal-overlay" id="notesModal">
        <div class="modal-content notes-panel">
            <div class="modal-header">
                <button class="back-btn" id="closeNotesModal">
                    <i class="ph ph-arrow-left"></i> 便签
                </button>
            </div>

            <div class="notes-layout">
                <div class="notes-sidebar">
                    <button class="new-note-btn" id="createNoteBtn">
                        <i class="ph ph-plus"></i> 新建便签
                    </button>
                    <div class="notes-list" id="notesList">
                        <!-- Notes will be inserted here JS-side -->
                    </div>
                </div>
                <div class="note-editor">
                    <textarea id="noteContent" placeholder="请新建或选择一个便签" disabled></textarea>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>

</html>